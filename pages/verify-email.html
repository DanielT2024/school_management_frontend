<!DOCTYPE html>
<html>
<head>
  <title>Verify Email</title>
</head>
<body>
  <h2>Verifying your email...</h2>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const token = urlParams.get('token');

    if (!token) {
      document.body.innerHTML = `<h2 style="color:red;">No verification token found in URL.</h2>`;
    } else {
      fetch(`https://schoolmanagement-production-1246.up.railway.app/api/auth/verify-email/${token}/`)
        .then(res => res.json())
        .then(data => {
          document.body.innerHTML = `<h2>${data.message || "âœ… Email verified successfully!"}</h2>`;
        })
        .catch(err => {
          document.body.innerHTML = `<h2 style="color:red;">Verification failed: ${err}</h2>`;
        });
    }
  </script>
</body>
</html>
